var at=t=>{throw TypeError(t)};var W=(t,e,s)=>e.has(t)||at("Cannot "+s);var i=(t,e,s)=>(W(t,e,"read from private field"),s?s.call(t):e.get(t)),g=(t,e,s)=>e.has(t)?at("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),f=(t,e,s,r)=>(W(t,e,"write to private field"),r?r.call(t,s):e.set(t,s),s),d=(t,e,s)=>(W(t,e,"access private method"),s);import{S as yt,a as S,s as $,b as B,n as Rt,i as ot,c as ht,t as Ct,f as Nt,d as xt,e as lt,g as pt,r as O,h as St,j as p,k as Et,u as Ot,L as Pt,l as ct}from"./index-sARQauPg.js";import{I as ut,M as Dt}from"./constants-Cbpa1CT5.js";var y,o,L,v,I,w,x,k,T,F,j,Q,P,M,c,U,z,K,X,q,J,Y,Z,gt,mt,It=(mt=class extends yt{constructor(e,s){super();g(this,c);g(this,y);g(this,o);g(this,L);g(this,v);g(this,I);g(this,w);g(this,x);g(this,k);g(this,T);g(this,F);g(this,j);g(this,Q);g(this,P);g(this,M,new Set);this.options=s,f(this,y,e),f(this,x,null),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(i(this,o).addObserver(this),ft(i(this,o),this.options)?d(this,c,U).call(this):this.updateResult(),d(this,c,q).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return tt(i(this,o),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return tt(i(this,o),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,d(this,c,J).call(this),d(this,c,Y).call(this),i(this,o).removeObserver(this)}setOptions(e,s){const r=this.options,h=i(this,o);if(this.options=i(this,y).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof S(this.options.enabled,i(this,o))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");d(this,c,Z).call(this),i(this,o).setOptions(this.options),r._defaulted&&!$(this.options,r)&&i(this,y).getQueryCache().notify({type:"observerOptionsUpdated",query:i(this,o),observer:this});const l=this.hasListeners();l&&dt(i(this,o),h,this.options,r)&&d(this,c,U).call(this),this.updateResult(s),l&&(i(this,o)!==h||S(this.options.enabled,i(this,o))!==S(r.enabled,i(this,o))||B(this.options.staleTime,i(this,o))!==B(r.staleTime,i(this,o)))&&d(this,c,z).call(this);const n=d(this,c,K).call(this);l&&(i(this,o)!==h||S(this.options.enabled,i(this,o))!==S(r.enabled,i(this,o))||n!==i(this,P))&&d(this,c,X).call(this,n)}getOptimisticResult(e){const s=i(this,y).getQueryCache().build(i(this,y),e),r=this.createResult(s,e);return Qt(this,r)&&(f(this,v,r),f(this,w,this.options),f(this,I,i(this,o).state)),r}getCurrentResult(){return i(this,v)}trackResult(e,s){const r={};return Object.keys(e).forEach(h=>{Object.defineProperty(r,h,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(h),s==null||s(h),e[h])})}),r}trackProp(e){i(this,M).add(e)}getCurrentQuery(){return i(this,o)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=i(this,y).defaultQueryOptions(e),r=i(this,y).getQueryCache().build(i(this,y),s);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,s))}fetch(e){return d(this,c,U).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),i(this,v)))}createResult(e,s){var nt;const r=i(this,o),h=this.options,l=i(this,v),n=i(this,I),u=i(this,w),C=e!==r?e.state:i(this,L),{state:N}=e;let a={...N},E=!1,b;if(s._optimisticResults){const R=this.hasListeners(),V=!R&&ft(e,s),vt=R&&dt(e,r,s,h);(V||vt)&&(a={...a,...xt(N.data,e.options)}),s._optimisticResults==="isRestoring"&&(a.fetchStatus="idle")}let{error:_,errorUpdatedAt:st,status:D}=a;if(s.select&&a.data!==void 0)if(l&&a.data===(n==null?void 0:n.data)&&s.select===i(this,k))b=i(this,T);else try{f(this,k,s.select),b=s.select(a.data),b=lt(l==null?void 0:l.data,b,s),f(this,T,b),f(this,x,null)}catch(R){f(this,x,R)}else b=a.data;if(s.placeholderData!==void 0&&b===void 0&&D==="pending"){let R;if(l!=null&&l.isPlaceholderData&&s.placeholderData===(u==null?void 0:u.placeholderData))R=l.data;else if(R=typeof s.placeholderData=="function"?s.placeholderData((nt=i(this,F))==null?void 0:nt.state.data,i(this,F)):s.placeholderData,s.select&&R!==void 0)try{R=s.select(R),f(this,x,null)}catch(V){f(this,x,V)}R!==void 0&&(D="success",b=lt(l==null?void 0:l.data,R,s),E=!0)}i(this,x)&&(_=i(this,x),b=i(this,T),st=Date.now(),D="error");const A=a.fetchStatus==="fetching",H=D==="pending",G=D==="error",it=H&&A,rt=b!==void 0;return{status:D,fetchStatus:a.fetchStatus,isPending:H,isSuccess:D==="success",isError:G,isInitialLoading:it,isLoading:it,data:b,dataUpdatedAt:a.dataUpdatedAt,error:_,errorUpdatedAt:st,failureCount:a.fetchFailureCount,failureReason:a.fetchFailureReason,errorUpdateCount:a.errorUpdateCount,isFetched:a.dataUpdateCount>0||a.errorUpdateCount>0,isFetchedAfterMount:a.dataUpdateCount>C.dataUpdateCount||a.errorUpdateCount>C.errorUpdateCount,isFetching:A,isRefetching:A&&!H,isLoadingError:G&&!rt,isPaused:a.fetchStatus==="paused",isPlaceholderData:E,isRefetchError:G&&rt,isStale:et(e,s),refetch:this.refetch}}updateResult(e){const s=i(this,v),r=this.createResult(i(this,o),this.options);if(f(this,I,i(this,o).state),f(this,w,this.options),i(this,I).data!==void 0&&f(this,F,i(this,o)),$(r,s))return;f(this,v,r);const h={},l=()=>{if(!s)return!0;const{notifyOnChangeProps:n}=this.options,u=typeof n=="function"?n():n;if(u==="all"||!u&&!i(this,M).size)return!0;const m=new Set(u??i(this,M));return this.options.throwOnError&&m.add("error"),Object.keys(i(this,v)).some(C=>{const N=C;return i(this,v)[N]!==s[N]&&m.has(N)})};(e==null?void 0:e.listeners)!==!1&&l()&&(h.listeners=!0),d(this,c,gt).call(this,{...h,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&d(this,c,q).call(this)}},y=new WeakMap,o=new WeakMap,L=new WeakMap,v=new WeakMap,I=new WeakMap,w=new WeakMap,x=new WeakMap,k=new WeakMap,T=new WeakMap,F=new WeakMap,j=new WeakMap,Q=new WeakMap,P=new WeakMap,M=new WeakMap,c=new WeakSet,U=function(e){d(this,c,Z).call(this);let s=i(this,o).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(Rt)),s},z=function(){d(this,c,J).call(this);const e=B(this.options.staleTime,i(this,o));if(ot||i(this,v).isStale||!ht(e))return;const r=Ct(i(this,v).dataUpdatedAt,e)+1;f(this,j,setTimeout(()=>{i(this,v).isStale||this.updateResult()},r))},K=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(i(this,o)):this.options.refetchInterval)??!1},X=function(e){d(this,c,Y).call(this),f(this,P,e),!(ot||S(this.options.enabled,i(this,o))===!1||!ht(i(this,P))||i(this,P)===0)&&f(this,Q,setInterval(()=>{(this.options.refetchIntervalInBackground||Nt.isFocused())&&d(this,c,U).call(this)},i(this,P)))},q=function(){d(this,c,z).call(this),d(this,c,X).call(this,d(this,c,K).call(this))},J=function(){i(this,j)&&(clearTimeout(i(this,j)),f(this,j,void 0))},Y=function(){i(this,Q)&&(clearInterval(i(this,Q)),f(this,Q,void 0))},Z=function(){const e=i(this,y).getQueryCache().build(i(this,y),this.options);if(e===i(this,o))return;const s=i(this,o);f(this,o,e),f(this,L,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},gt=function(e){pt.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(i(this,v))}),i(this,y).getQueryCache().notify({query:i(this,o),type:"observerResultsUpdated"})})},mt);function jt(t,e){return S(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function ft(t,e){return jt(t,e)||t.state.data!==void 0&&tt(t,e,e.refetchOnMount)}function tt(t,e,s){if(S(e.enabled,t)!==!1){const r=typeof s=="function"?s(t):s;return r==="always"||r!==!1&&et(t,e)}return!1}function dt(t,e,s,r){return(t!==e||S(r.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&et(t,s)}function et(t,e){return S(e.enabled,t)!==!1&&t.isStaleByTime(B(e.staleTime,t))}function Qt(t,e){return!$(t.getCurrentResult(),e)}var bt=O.createContext(!1),wt=()=>O.useContext(bt);bt.Provider;function Tt(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Ft=O.createContext(Tt()),Mt=()=>O.useContext(Ft);function Ut(t,e){return typeof t=="function"?t(...e):!!t}var Lt=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},kt=t=>{O.useEffect(()=>{t.clearReset()},[t])},_t=({result:t,errorResetBoundary:e,throwOnError:s,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&Ut(s,[t.error,r]),Bt=t=>{t.suspense&&(typeof t.staleTime!="number"&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},At=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Ht=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function Gt(t,e,s){var C,N,a,E;const r=St(),h=wt(),l=Mt(),n=r.defaultQueryOptions(t);(N=(C=r.getDefaultOptions().queries)==null?void 0:C._experimental_beforeQuery)==null||N.call(C,n),n._optimisticResults=h?"isRestoring":"optimistic",Bt(n),Lt(n,l),kt(l);const[u]=O.useState(()=>new e(r,n)),m=u.getOptimisticResult(n);if(O.useSyncExternalStore(O.useCallback(b=>{const _=h?()=>{}:u.subscribe(pt.batchCalls(b));return u.updateResult(),_},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),O.useEffect(()=>{u.setOptions(n,{listeners:!1})},[n,u]),At(n,m))throw Ht(n,u,l);if(_t({result:m,errorResetBoundary:l,throwOnError:n.throwOnError,query:r.getQueryCache().get(n.queryHash)}))throw m.error;return(E=(a=r.getDefaultOptions().queries)==null?void 0:a._experimental_afterQuery)==null||E.call(a,n,m),n.notifyOnChangeProps?m:u.trackResult(m)}function Vt(t,e){return Gt(t,It)}const Wt=function(t){const e=t instanceof Date?t:new Date(t),s=new Intl.RelativeTimeFormat("en"),r={years:3600*24*365,months:3600*24*30,weeks:3600*24*7,days:3600*24,hours:3600,minutes:60,seconds:1},h=(e.getTime()-Date.now())/1e3;for(let l in r)if(r[l]<Math.abs(h)){const n=h/r[l];return s.format(Math.round(n),l)}},$t=function(t){let e=Number(t),s=Math.floor(e/3600),r=Math.floor(e%3600/60),h=s>0?s+(s==1?" hr, ":" hrs, "):"",l=r>0?r+(r==1?" min, ":" mins"):"";return h+l};function zt({data:t,id:e,itemPerPage:s,pageNum:r}){var m;let h=t!=null&&t.updatedDate?Wt(t.updatedDate):"",l=t!=null&&t.updatedDate?new Date(t.updatedDate).toDateString():"",n=t!=null&&t.duration?$t(t.duration):"",u=0;return s&&r?u=Number(s)*(Number(r)-1)+e+1:u=e+1,p.jsxs("div",{className:"list-item-container",children:[p.jsxs("span",{className:"list-counter",children:[u,". "]}),p.jsx("span",{children:p.jsx("a",{href:t.link,target:"_blank",className:"list-link",title:t.title,children:t.title})}),p.jsx("span",{}),p.jsxs("span",{className:"list-item-info-container",children:["By",p.jsx("a",{href:t.channelLink,target:"_blank",className:"list-channel-link",children:t.channelName}),((m=t==null?void 0:t.category)==null?void 0:m.length)>0&&p.jsxs("span",{className:"list-category",title:"Category",children:[" ","| ",t.category]}),(n==null?void 0:n.length)>0&&p.jsxs("span",{className:"list-item-timestamp",children:["| ",n]}),(h==null?void 0:h.length)>0&&p.jsxs("span",{className:"list-item-timestamp",title:l,children:["| ",h]})]})]})}function Yt(){const[t,e]=Et(),s=t.get("p"),r=Ot();let h=1;s&&!isNaN(s)?h=Number(s):isNaN(s)&&e({});const{isLoading:l,data:n}=Vt({queryKey:["dataList",h],queryFn:({signal:a})=>{let E=`/pageData/data-${h}.json`;return fetch(E,{signal:a}).then(b=>b.json())}});let u=!0,m=!1;(n==null?void 0:n.length)>0&&(u=ut<=n.length,Number(h)===Dt&&(u=!1),Number(h)>1&&(m=!0));const C=()=>{let a=1;s&&!isNaN(s)&&Number(s)>1?(a=Number(s)-1,r({search:`?${ct({p:a})}`})):r({pathname:"/"})},N=()=>{let a=1;s&&!isNaN(s)?a=Number(s)+1:a=2,r({search:`?${ct({p:a})}`})};return p.jsxs("div",{className:"list-container",children:[l&&p.jsx(Pt,{}),!l&&(n==null?void 0:n.length)>0&&n.map((a,E)=>p.jsx(zt,{data:a,id:E,itemPerPage:ut,pageNum:h},a.uid)),!l&&(m||u)&&p.jsxs("div",{className:"pagination-bottom-container",children:[m&&p.jsx("span",{className:"item-pagination",onClick:C,title:"Go to Previous Page",children:"‹Previous"}),m&&u&&p.jsx("span",{className:"nav-separator",children:"|"}),u&&p.jsx("span",{className:"item-pagination",onClick:N,title:"Go to Next Page",children:"Next›"})]})]})}export{Yt as default};
